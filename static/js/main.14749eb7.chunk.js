(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{61:function(e,t,a){},70:function(e,t,a){e.exports=a(90)},75:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),c=a.n(r),l=(a(61),a(16)),i=a(17),s=a(19),d=a(18),p=a(20),u=(a(75),a(89)),m=a(144),h=a(134),j=a(135),f=a(136),g=a(137),C=a(138),E=a(31),O=a(141),b=a(143),y=a(133),v=a(131),D=a(132),k=a(130),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleClickOpen=function(){a.setState({dialogOpen:!0})},a.handleClose=function(){a.setState({dialogOpen:!1}),a.props.onJoinDialogClosed()},a.showContactInfo=function(){var e=a.props.contactInfo.discordChannelUrl;return e?o.a.createElement("p",null,"Discord: ",o.a.createElement("a",{href:e},e)):null},a.state={dialogOpen:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.dialogOpen||!this.props.dialogOpen||this.state.dialogOpen||this.setState({dialogOpen:!0})}},{key:"render",value:function(){return o.a.createElement(b.a,{open:this.state.dialogOpen,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(k.a,{id:"form-dialog-title"},"Contact Info"),o.a.createElement(v.a,null,o.a.createElement(D.a,null,"Awesome! Here is how you can get in touch with the project lead.",this.showContactInfo())),o.a.createElement(y.a,null,o.a.createElement(O.a,{onClick:this.handleClose,color:"secondary"},"Close")))}}]),t}(o.a.Component),N="https://wt-82e23ef79ade2a8d8cfed3117b878cdb-0.sandbox.auth0-extend.com/rrowdforge2",L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleClickOpen=function(){a.setState({dialogOpen:!0})},a.handleClose=function(){a.setState({dialogOpen:!1})},a.handleClickDelete=function(e){fetch("".concat(N,"?projectId=").concat(a.props.projectId),{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){a.props.updateProjectList(e)}),a.setState({dialogOpen:!1})},a.state={dialogOpen:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(O.a,{variant:"outlined",color:"secondary",onClick:this.handleClickOpen},"Delete"),o.a.createElement(b.a,{open:this.state.dialogOpen,onClose:this.handleClose},o.a.createElement(k.a,null,"Delete Project"),o.a.createElement(v.a,null,o.a.createElement(D.a,null,"Are you sure you want to delete ".concat(this.props.projectName,"?"))),o.a.createElement(y.a,null,o.a.createElement(O.a,{onClick:this.handleClose,color:"primary"},"Cancel"),o.a.createElement(O.a,{onClick:this.handleClickDelete,color:"secondary"},"Delete"))))}}]),t}(o.a.Component),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).onJoinClick=function(e){a.setState({joinDialogOpen:!0});var t=a.props.rolesNeeded,n=t.indexOf(e);-1!==n&&t.splice(n,1),fetch(N,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({projectId:a.props.projectId,rolesNeeded:t})}).then(function(e){return e.json()}).then(function(e){a.props.updateProjectList(e)})},a.onJoinDialogClosed=function(){a.setState({joinDialogOpen:!1})},a.state={joinDialogOpen:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(h.a,{className:"ProjectCard"},o.a.createElement(j.a,{className:"ProjectCardHeader",title:this.props.projectName,subheader:"".concat(this.props.projectLeadId," | ").concat(this.props.projectLeadRole)}),o.a.createElement(f.a,{className:"ProjectCardImage",image:this.props.previewImageUrl?this.props.previewImageUrl:"/default_preview_image.png"}),o.a.createElement(g.a,{className:"ProjectCardContent"},o.a.createElement(E.a,{variant:"body2",color:"textSecondary"},this.props.projectDescription),o.a.createElement(E.a,{variant:"body1"},"Roles Available"),this.props.rolesNeeded.map(function(t){return o.a.createElement(m.a,{className:"ProjectCardRoleChip",avatar:o.a.createElement(u.a,null,"Join"),label:t,color:"primary",variant:"outlined",onClick:function(){return e.onJoinClick(t)}})})),o.a.createElement(C.a,null,o.a.createElement(L,{projectId:this.props.projectId,projectName:this.props.projectName,updateProjectList:this.props.updateProjectList})),o.a.createElement(I,{contactInfo:this.props.contactInfo,dialogOpen:this.state.joinDialogOpen,onJoinDialogClosed:this.onJoinDialogClosed}))}}]),t}(n.Component),P=a(139),w=function(e){return e.projects?o.a.createElement("div",null,o.a.createElement(P.a,{container:!0,justify:"center",spacing:2},e.projects.map(function(t){return o.a.createElement(P.a,{key:t.projectName+t.creationDate,item:!0},o.a.createElement(S,{projectId:t.projectId,projectLeadId:t.projectLeadId,projectLeadRole:t.projectLeadRole,projectName:t.projectName,projectDescription:t.projectDescription,previewImageUrl:t.previewImageUrl,rolesNeeded:t.rolesNeeded,contactInfo:t.contactInfo,updateProjectList:e.updateProjectList}))}))):null},F=a(44),U=a(65),J=a(140),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleClickOpen=function(){a.setState({dialogOpen:!0})},a.handleClose=function(){a.setState({dialogOpen:!1})},a.handleSubmit=function(e){e.preventDefault(),a.setState({dialogOpen:!1}),fetch(N,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(a.state.formFields)}).then(function(e){return e.json()}).then(function(e){a.props.updateProjectList(e)})},a.handleSubmitDummyData=function(){a.setState({dialogOpen:!1}),fetch(N,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({projectLeadId:"pop123",projectLeadRole:"composer",projectName:"Final Fantasy Background Music",projectDescription:"Making some sweet tunes for a fan-made FF game.",rolesNeeded:["guitarist","drummer","pianist"],contactInfo:{discordChannelUrl:"https://discord.gg/music"}})}).then(function(e){return e.json()}).then(function(e){a.props.updateProjectList(e)})},a.onFormChange=function(e,t){var n=e,o=t.target.value;"rolesNeeded"===e?o=o.split(","):"discordChannelUrl"===e&&(n="contactInfo",o={discordChannelUrl:o}),a.setState({formFields:Object(U.a)({},a.state.formFields,Object(F.a)({},n,o))})},a.state={dialogOpen:!1,formFields:{}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(O.a,{variant:"outlined",color:"primary",onClick:this.handleClickOpen},"Post new Project"),o.a.createElement(b.a,{open:this.state.dialogOpen,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(k.a,{id:"form-dialog-title"},"New Project Details"),o.a.createElement(v.a,null,o.a.createElement(D.a,null,"Awesome! You have an idea and want some help. Fill out this form to get started."),o.a.createElement(P.a,{container:!0,spacing:3},o.a.createElement(P.a,{item:!0,xs:6},o.a.createElement(J.a,{autoFocus:!0,required:!0,id:"projectLeadId",label:"Email Address",type:"email",onChange:function(t){return e.onFormChange("projectLeadId",t)}})),o.a.createElement(P.a,{item:!0,xs:6},o.a.createElement(J.a,{required:!0,id:"projectLeadRole",label:"Your Role",onChange:function(t){return e.onFormChange("projectLeadRole",t)}})),o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(J.a,{fullWidth:!0,required:!0,id:"projectName",label:"Project Name",onChange:function(t){return e.onFormChange("projectName",t)}})),o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(J.a,{fullWidth:!0,multiline:!0,required:!0,id:"projectDescription",label:"Description",onChange:function(t){return e.onFormChange("projectDescription",t)}})),o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(J.a,{fullWidth:!0,required:!0,id:"rolesNeeded",label:"List the roles you need for this project, separated by commas",onChange:function(t){return e.onFormChange("rolesNeeded",t)}})),o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(J.a,{fullWidth:!0,required:!0,id:"discordChannelUrl",label:"URL to your Discord Channel",onChange:function(t){return e.onFormChange("discordChannelUrl",t)}})),o.a.createElement(P.a,{item:!0,xs:12},o.a.createElement(J.a,{fullWidth:!0,required:!0,id:"previewImageUrl",label:"Link to your Preview Image",onChange:function(t){return e.onFormChange("previewImageUrl",t)}})))),o.a.createElement(y.a,null,o.a.createElement(O.a,{onClick:this.handleSubmitDummyData,color:"default"},"Dummy Data"),o.a.createElement(O.a,{onClick:this.handleClose,color:"secondary"},"Cancel"),o.a.createElement(O.a,{onClick:this.handleSubmit,color:"primary"},"Submit"))))}}]),t}(o.a.Component),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){fetch(N).then(function(e){return e.json()}).then(function(e){return a.setState({projects:e})})},a.updateProjectList=function(e){a.setState({projects:e})},a.handleClickOpen=function(){},a.state={hasError:!1,errorMessage:"",projects:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({errorMessage:JSON.stringify(e+t)})}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("div",null,"Error ",this.state.errorMessage):o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Project Listings Board"),o.a.createElement(x,{updateProjectList:this.updateProjectList}),o.a.createElement("h2",null,"Projects in need of help"),o.a.createElement(w,{projects:this.state.projects,updateProjectList:this.updateProjectList}))}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(n.Component),q=document.getElementById("root");c.a.render(o.a.createElement(R,null),q)}},[[70,1,2]]]);
//# sourceMappingURL=main.14749eb7.chunk.js.map